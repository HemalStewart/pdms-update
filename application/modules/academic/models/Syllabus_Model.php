<?phpif (!defined('BASEPATH'))    exit('No direct script access allowed');class Syllabus_Model extends MY_Model {        function __construct() {        parent::__construct();    }           public function get_syllabus_list($piriven_id = null, $fclass_id = null){                if(!$fclass_id){           $class_id = $this->session->userdata('class_id');        }                 $this->db->select('SY.*, SC.school_name, C.School_className AS class_name, SUB.sub_name AS subject, AY.session_year,ST.School_Type');        $this->db->from('syllabuses AS SY');        $this->db->join('schoolclass AS C', 'C.School_classesid = SY.class_id', 'left');//                     //   $this->db->join('subjects AS S', 'S.id = SY.subject_id', 'left');                $this->db->join('sub_list AS SUB', 'SUB.id = SY.subject_id', 'left');        $this->db->join('academic_years AS AY', 'AY.id = SY.academic_year_id', 'left');        $this->db->join('schools AS SC', 'SC.id = SY.school_id', 'left');                $this->db->join('school_type AS ST', 'ST.School_TypeId = SY.pirtype', 'left');                if($this->session->userdata('role_id') == TEACHER){            $this->db->where('S.teacher_id', $this->session->userdata('profile_id'));        }                if($fclass_id){            $this->db->where('SY.class_id', $fclass_id);        }                if ($piriven_id) {            $this->db->where('SY.pirtype', $piriven_id);        }                if($this->session->userdata('role_id') == SUBJECT){            $subject_id = $this->session->userdata('subject_id');             $str_area = explode(',', $subject_id);                       $this->db->where_in('SUB.id', $str_area);        } ////        ////        if($this->session->userdata('role_id') != SUPER_ADMIN){////            $this->db->where('SY.school_id', $this->session->userdata('school_id'));////        }        $this->db->where('SC.status', 1);        $this->db->order_by('SY.id', 'DESC');               return $this->db->get()->result();            }        public function get_single_syllabus($id){                $this->db->select('SY.*, SC.school_name, C.School_className AS class_name, S.name AS subject, AY.session_year');        $this->db->from('syllabuses AS SY');//        $this->db->join('classes AS C', 'C.id = SY.class_id', 'left');                 $this->db->join('schoolclass AS C', 'C.School_classesid = SY.class_id', 'left');        $this->db->join('subjects AS S', 'S.id = SY.subject_id', 'left');        $this->db->join('academic_years AS AY', 'AY.id = SY.academic_year_id', 'left');        $this->db->join('schools AS SC', 'SC.id = SY.school_id', 'left');        $this->db->where('SY.id', $id);        return $this->db->get()->row();            }          public function getsubjectData($sub_id = null) {        $str_area = explode(',', $sub_id);//        $this->db->select('sub_list.id,sub_list.sub_name,sub_list.sub_code');        $this->db->from('sub_list');        $this->db->where_in('sub_list.id', $str_area);//        $query = $this->db->get();        return $query->result_array();    }         public function listpirtype() {        $this->db->select()->from('school_type');        $listhostel = $this->db->get();        return $listhostel->result_array();    }    }