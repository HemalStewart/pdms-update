<?phpif (!defined('BASEPATH'))    exit('No direct script access allowed');class School_Model extends MY_Model {    function __construct() {        parent::__construct();    }    function duplicate_check($school_name, $id = null) {        if ($id) {            $this->db->where_not_in('id', $id);        }        $this->db->where('school_name', $school_name);        return $this->db->get('schools')->num_rows();    }           public function get_single_school($id) {        $this->db->select('P.provincialname,DI.districtname,Z.zonename,ZB.zoneblock');        $this->db->from('schools AS SC');                $this->db->join('provincial AS P', 'SC.provincial = P.provincialid', 'left');        $this->db->join('district AS DI', 'SC.district_id = DI.id', 'left');        $this->db->join('zone AS Z', 'SC.zonal_id = Z.zoneid', 'left');        $this->db->join('zoneblock AS ZB', 'SC.educational_id = ZB.zoneblockid', 'left');        $this->db->where('SC.id', $id);        return $this->db->get()->row();    }    public function listprovincial() {        $this->db->select()->from('provincial');        $listhostel = $this->db->get();        return $listhostel->result_array();    }    public function geteditSchoolData($id = null) {        if ($id) {//            $sql = "SELECT * FROM jobcardmain WHERE jobid = ?";//            $query = $this->db->query($sql, array($id));//            return $query->row_array();        $this->db->select('schools.id,schools.school_name,schools.school_code,provincial.provincialname,district.districtname,zone.zonename,zoneblock.zoneblock,schools.provincial');        $this->db->from('schools');         $this->db->join('provincial', 'schools.provincial = provincial.provincialid', 'left');        $this->db->join('district', 'schools.district_id = district.id', 'left');        $this->db->join('zone', 'schools.zonal_id = zone.zoneid', 'left');        $this->db->join('zoneblock', 'schools.educational_id = zoneblock.zoneblockid', 'left');        $this->db->where('schools.id', $id);        $query = $this->db->get();        return $query->row_array();        }////        $this->db->select('schools.id,schools.school_name,schools.school_code,provincial.provincialname,district.districtname,zone.zonename,zoneblock.zoneblock,schools.provincial,schools.address,schools.phone,schools.email,schools.currency,schools.logo,schools.status,');        $this->db->from('schools');         $this->db->join('provincial', 'schools.provincial = provincial.provincialid', 'left');        $this->db->join('district', 'schools.district_id = district.id', 'left');        $this->db->join('zone', 'schools.zonal_id = zone.zoneid', 'left');        $this->db->join('zoneblock', 'schools.educational_id = zoneblock.zoneblockid', 'left');//        $query = $this->db->get();        return $query->result();    }               public function getprovSchoolData($provincial_id = null) {//        $this->db->select('schools.id,schools.school_name,schools.school_code,provincial.provincialname,district.districtname,zone.zonename,zoneblock.zoneblock,schools.provincial,schools.address,schools.phone,schools.email,schools.currency,schools.logo,schools.status,');        $this->db->from('schools');         $this->db->join('provincial', 'schools.provincial = provincial.provincialid', 'left');        $this->db->join('district', 'schools.district_id = district.id', 'left');        $this->db->join('zone', 'schools.zonal_id = zone.zoneid', 'left');        $this->db->join('zoneblock', 'schools.educational_id = zoneblock.zoneblockid', 'left');        $this->db->where('schools.provincial', $provincial_id);//        $query = $this->db->get();        return $query->result();    }}